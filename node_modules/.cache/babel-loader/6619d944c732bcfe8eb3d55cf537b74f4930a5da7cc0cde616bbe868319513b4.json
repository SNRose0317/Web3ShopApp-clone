{"ast":null,"code":"import React, { useState, useMemo } from 'react';\nimport { SortMinor } from '@shopify/polaris-icons';\nimport { FilterButton } from '../FilterButton/FilterButton.js';\nimport { ChoiceList } from '../../../ChoiceList/ChoiceList.js';\nimport { DirectionButton } from './components/DirectionButton/DirectionButton.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { Box } from '../../../Box/Box.js';\nimport { Icon } from '../../../Icon/Icon.js';\nlet SortButtonDirection;\n(function (SortButtonDirection) {\n  SortButtonDirection[\"Asc\"] = \"asc\";\n  SortButtonDirection[\"Desc\"] = \"desc\";\n})(SortButtonDirection || (SortButtonDirection = {}));\nfunction SortButton({\n  choices,\n  selected,\n  onChange,\n  disabled,\n  onChangeKey,\n  onChangeDirection\n}) {\n  const i18n = useI18n();\n  const {\n    polarisSummerEditions2023\n  } = useFeatures();\n  const [active, setActive] = useState(false);\n  const [selectedValueKey, selectedDirection] = selected[0].split(' ');\n  function handleClick() {\n    setActive(pastActive => !pastActive);\n  }\n  function handleClose() {\n    setActive(false);\n  }\n  function handleChangeChoiceList(sel) {\n    if (onChangeKey) {\n      const [key] = sel[0].split(' ');\n      onChangeKey(key);\n    } else {\n      onChange(sel);\n    }\n  }\n  function handleChangeDirection(sel) {\n    if (onChangeDirection) {\n      const [, direction] = sel[0].split(' ');\n      onChangeDirection(direction);\n    } else {\n      onChange(sel);\n    }\n  }\n  const choiceListChoices = useMemo(() => {\n    const choiceCategories = choices.reduce((acc, curr) => {\n      const alreadyExists = acc.some(option => option.label === curr.label);\n      const [, currentValueDirection] = curr.value.split(' ');\n      const isSameDirection = currentValueDirection === selectedDirection;\n      if (!alreadyExists) {\n        return [...acc, curr];\n      }\n      if (isSameDirection) {\n        return acc.map(option => {\n          if (option.label === curr.label) {\n            return curr;\n          }\n          return option;\n        });\n      }\n      return acc;\n    }, []);\n    return choiceCategories;\n  }, [choices, selectedDirection]);\n  const selectedChoices = choices.filter(choice => {\n    const [currentKey] = choice.value.split(' ');\n    return currentKey === selectedValueKey;\n  });\n  const iconMarkup = polarisSummerEditions2023 ? SortMinor : undefined;\n  const childMarkup = !polarisSummerEditions2023 ? /*#__PURE__*/React.createElement(Icon, {\n    source: SortMinor,\n    color: \"base\"\n  }) : null;\n  const sortButton = /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.translate('Polaris.IndexFilters.SortButton.tooltip'),\n    preferredPosition: \"above\",\n    hoverDelay: 400\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    icon: iconMarkup,\n    onClick: handleClick,\n    label: i18n.translate('Polaris.IndexFilters.SortButton.ariaLabel'),\n    disabled: disabled\n  }, childMarkup));\n  return /*#__PURE__*/React.createElement(Popover, {\n    active: active && !disabled,\n    activator: sortButton,\n    autofocusTarget: \"first-node\",\n    onClose: handleClose,\n    preferredAlignment: \"right\",\n    fluidContent: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minWidth: \"148px\",\n    padding: polarisSummerEditions2023 ? undefined : '400',\n    paddingInlineStart: polarisSummerEditions2023 ? '300' : undefined,\n    paddingInlineEnd: polarisSummerEditions2023 ? '300' : undefined,\n    paddingBlockStart: polarisSummerEditions2023 ? '200' : undefined,\n    paddingBlockEnd: polarisSummerEditions2023 ? '200' : undefined,\n    borderBlockEndWidth: \"1\",\n    borderColor: \"border-subdued\"\n  }, /*#__PURE__*/React.createElement(ChoiceList, {\n    title: i18n.translate('Polaris.IndexFilters.SortButton.title'),\n    choices: choiceListChoices,\n    selected: selected,\n    onChange: handleChangeChoiceList\n  })), /*#__PURE__*/React.createElement(Box, {\n    padding: polarisSummerEditions2023 ? undefined : '400',\n    paddingInlineStart: polarisSummerEditions2023 ? '150' : undefined,\n    paddingInlineEnd: polarisSummerEditions2023 ? '150' : undefined,\n    paddingBlockStart: polarisSummerEditions2023 ? '200' : undefined,\n    paddingBlockEnd: polarisSummerEditions2023 ? '200' : undefined\n  }, /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"asc\",\n    active: selectedDirection === SortButtonDirection.Asc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[0]?.value\n  }, selectedChoices?.[0]?.directionLabel), /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"desc\",\n    active: selectedDirection === SortButtonDirection.Desc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[1]?.value\n  }, selectedChoices?.[1]?.directionLabel)));\n}\nexport { SortButton, SortButtonDirection };","map":{"version":3,"names":["React","useState","useMemo","SortMinor","FilterButton","ChoiceList","DirectionButton","useI18n","useFeatures","Tooltip","Popover","Box","Icon","SortButtonDirection","SortButton","choices","selected","onChange","disabled","onChangeKey","onChangeDirection","i18n","polarisSummerEditions2023","active","setActive","selectedValueKey","selectedDirection","split","handleClick","pastActive","handleClose","handleChangeChoiceList","sel","key","handleChangeDirection","direction","choiceListChoices","choiceCategories","reduce","acc","curr","alreadyExists","some","option","label","currentValueDirection","value","isSameDirection","map","selectedChoices","filter","choice","currentKey","iconMarkup","undefined","childMarkup","createElement","source","color","sortButton","content","translate","preferredPosition","hoverDelay","icon","onClick","activator","autofocusTarget","onClose","preferredAlignment","fluidContent","minWidth","padding","paddingInlineStart","paddingInlineEnd","paddingBlockStart","paddingBlockEnd","borderBlockEndWidth","borderColor","title","Asc","directionLabel","Desc"],"sources":["/Users/nick/Documents/app info front ui/node_modules/@shopify/polaris/build/esm/components/IndexFilters/components/SortButton/SortButton.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { SortMinor } from '@shopify/polaris-icons';\nimport { FilterButton } from '../FilterButton/FilterButton.js';\nimport { ChoiceList } from '../../../ChoiceList/ChoiceList.js';\nimport { DirectionButton } from './components/DirectionButton/DirectionButton.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { Popover } from '../../../Popover/Popover.js';\nimport { Box } from '../../../Box/Box.js';\nimport { Icon } from '../../../Icon/Icon.js';\n\nlet SortButtonDirection;\n(function (SortButtonDirection) {\n  SortButtonDirection[\"Asc\"] = \"asc\";\n  SortButtonDirection[\"Desc\"] = \"desc\";\n})(SortButtonDirection || (SortButtonDirection = {}));\nfunction SortButton({\n  choices,\n  selected,\n  onChange,\n  disabled,\n  onChangeKey,\n  onChangeDirection\n}) {\n  const i18n = useI18n();\n  const {\n    polarisSummerEditions2023\n  } = useFeatures();\n  const [active, setActive] = useState(false);\n  const [selectedValueKey, selectedDirection] = selected[0].split(' ');\n  function handleClick() {\n    setActive(pastActive => !pastActive);\n  }\n  function handleClose() {\n    setActive(false);\n  }\n  function handleChangeChoiceList(sel) {\n    if (onChangeKey) {\n      const [key] = sel[0].split(' ');\n      onChangeKey(key);\n    } else {\n      onChange(sel);\n    }\n  }\n  function handleChangeDirection(sel) {\n    if (onChangeDirection) {\n      const [, direction] = sel[0].split(' ');\n      onChangeDirection(direction);\n    } else {\n      onChange(sel);\n    }\n  }\n  const choiceListChoices = useMemo(() => {\n    const choiceCategories = choices.reduce((acc, curr) => {\n      const alreadyExists = acc.some(option => option.label === curr.label);\n      const [, currentValueDirection] = curr.value.split(' ');\n      const isSameDirection = currentValueDirection === selectedDirection;\n      if (!alreadyExists) {\n        return [...acc, curr];\n      }\n      if (isSameDirection) {\n        return acc.map(option => {\n          if (option.label === curr.label) {\n            return curr;\n          }\n          return option;\n        });\n      }\n      return acc;\n    }, []);\n    return choiceCategories;\n  }, [choices, selectedDirection]);\n  const selectedChoices = choices.filter(choice => {\n    const [currentKey] = choice.value.split(' ');\n    return currentKey === selectedValueKey;\n  });\n  const iconMarkup = polarisSummerEditions2023 ? SortMinor : undefined;\n  const childMarkup = !polarisSummerEditions2023 ? /*#__PURE__*/React.createElement(Icon, {\n    source: SortMinor,\n    color: \"base\"\n  }) : null;\n  const sortButton = /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.translate('Polaris.IndexFilters.SortButton.tooltip'),\n    preferredPosition: \"above\",\n    hoverDelay: 400\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    icon: iconMarkup,\n    onClick: handleClick,\n    label: i18n.translate('Polaris.IndexFilters.SortButton.ariaLabel'),\n    disabled: disabled\n  }, childMarkup));\n  return /*#__PURE__*/React.createElement(Popover, {\n    active: active && !disabled,\n    activator: sortButton,\n    autofocusTarget: \"first-node\",\n    onClose: handleClose,\n    preferredAlignment: \"right\",\n    fluidContent: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minWidth: \"148px\",\n    padding: polarisSummerEditions2023 ? undefined : '400',\n    paddingInlineStart: polarisSummerEditions2023 ? '300' : undefined,\n    paddingInlineEnd: polarisSummerEditions2023 ? '300' : undefined,\n    paddingBlockStart: polarisSummerEditions2023 ? '200' : undefined,\n    paddingBlockEnd: polarisSummerEditions2023 ? '200' : undefined,\n    borderBlockEndWidth: \"1\",\n    borderColor: \"border-subdued\"\n  }, /*#__PURE__*/React.createElement(ChoiceList, {\n    title: i18n.translate('Polaris.IndexFilters.SortButton.title'),\n    choices: choiceListChoices,\n    selected: selected,\n    onChange: handleChangeChoiceList\n  })), /*#__PURE__*/React.createElement(Box, {\n    padding: polarisSummerEditions2023 ? undefined : '400',\n    paddingInlineStart: polarisSummerEditions2023 ? '150' : undefined,\n    paddingInlineEnd: polarisSummerEditions2023 ? '150' : undefined,\n    paddingBlockStart: polarisSummerEditions2023 ? '200' : undefined,\n    paddingBlockEnd: polarisSummerEditions2023 ? '200' : undefined\n  }, /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"asc\",\n    active: selectedDirection === SortButtonDirection.Asc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[0]?.value\n  }, selectedChoices?.[0]?.directionLabel), /*#__PURE__*/React.createElement(DirectionButton, {\n    direction: \"desc\",\n    active: selectedDirection === SortButtonDirection.Desc,\n    onClick: handleChangeDirection,\n    value: selectedChoices?.[1]?.value\n  }, selectedChoices?.[1]?.directionLabel)));\n}\n\nexport { SortButton, SortButtonDirection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}