{"ast":null,"code":"import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { SearchField } from './components/SearchField/SearchField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { Box } from '../Box/Box.js';\nimport { Item } from './components/Item/Item.js';\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  allowFiltering,\n  onActionAnyItem\n}) {\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSeachText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(({\n      content\n    }) => typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content)\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(SearchField, {\n    placeholder: i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    value: searchText,\n    onChange: value => setSeachText(value)\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\nexport { ActionList };","map":{"version":3,"names":["React","useContext","useRef","useState","useMemo","Key","wrapFocusPreviousFocusableMenuItem","wrapFocusNextFocusableMenuItem","FilterActionsContext","Section","SearchField","useI18n","KeypressListener","Box","Item","FILTER_ACTIONS_THRESHOLD","ActionList","items","sections","actionRole","allowFiltering","onActionAnyItem","i18n","filterActions","finalSections","actionListRef","searchText","setSeachText","isFilterable","some","section","item","content","hasMultipleSections","length","elementRole","undefined","elementTabIndex","filteredSections","map","filter","toLowerCase","includes","sectionMarkup","index","createElement","key","title","isFirst","handleFocusPreviousItem","evt","preventDefault","current","target","contains","handleFocusNextItem","listeners","Fragment","keyEvent","keyCode","DownArrow","handler","UpArrow","totalFilteredActions","totalSectionItems","reduce","acc","totalActions","hasManyActions","padding","paddingBlockEnd","placeholder","translate","value","onChange","as","ref","role","tabIndex"],"sources":["/Users/nick/Documents/app info front ui/node_modules/@shopify/polaris/build/esm/components/ActionList/ActionList.js"],"sourcesContent":["import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { SearchField } from './components/SearchField/SearchField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { Box } from '../Box/Box.js';\nimport { Item } from './components/Item/Item.js';\n\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  allowFiltering,\n  onActionAnyItem\n}) {\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSeachText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(({\n      content\n    }) => typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content)\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(SearchField, {\n    placeholder: i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    value: searchText,\n    onChange: value => setSeachText(value)\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\n\nexport { ActionList };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}